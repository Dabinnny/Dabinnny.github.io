{"componentChunkName":"component---src-templates-blog-post-js","path":"/MachineLearning/자전거대여수예측/","result":{"data":{"site":{"siteMetadata":{"title":"DABI_devlog","author":"[DABIN SEO]","siteUrl":"https://Dabinnny.github.io","comment":{"disqusShortName":"","utterances":"Dabinnny/Dabinnny.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"6f02077a-9889-52e5-860d-2d90564b8567","excerpt":"👀 다중공선성이 뭡니까 대체! 왜 문제를 일으키는 것입니까! 이 포스팅은 kaggle : Boom Bike Dataset 을 활용해서 실습해보았습니다. 세부 코드는  클릭하시면 보실 수 있습니다. 1. 선형 회귀분석의 4가지 기본가정 다중공선성이 뭔지 알기위해서는 먼저 선형회귀모형이 가져야 하는 기본 특성을 알아야 한다.  : 독립변수 x와 종속변수 y는 선형관계이다.  : 다중 회귀 모형일때 독립변수 x…","html":"<h1 id=\"-다중공선성이-뭡니까-대체-왜-문제를-일으키는-것입니까\" style=\"position:relative;\"><a href=\"#-%EB%8B%A4%EC%A4%91%EA%B3%B5%EC%84%A0%EC%84%B1%EC%9D%B4-%EB%AD%A1%EB%8B%88%EA%B9%8C-%EB%8C%80%EC%B2%B4-%EC%99%9C-%EB%AC%B8%EC%A0%9C%EB%A5%BC-%EC%9D%BC%EC%9C%BC%ED%82%A4%EB%8A%94-%EA%B2%83%EC%9E%85%EB%8B%88%EA%B9%8C\" aria-label=\" 다중공선성이 뭡니까 대체 왜 문제를 일으키는 것입니까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👀 다중공선성이 뭡니까 대체! 왜 문제를 일으키는 것입니까!</h1>\n<br/>\n<blockquote>\n<p><em>이 포스팅은 kaggle : Boom Bike Dataset 을 활용해서 실습해보았습니다.</em><br>\n<em>세부 코드는 <a href=\"https://github.com/Dabinnny/MachineLearning_toyproject/blob/main/LinearRegression_%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5%E1%84%83%E1%85%A2%E1%84%8B%E1%85%A7%E1%84%89%E1%85%AE%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8.ipynb\"><code class=\"language-text\">Github</code></a> 클릭하시면 보실 수 있습니다.</em></p>\n</blockquote>\n<h2 id=\"1-선형-회귀분석의-4가지-기본가정\" style=\"position:relative;\"><a href=\"#1-%EC%84%A0%ED%98%95-%ED%9A%8C%EA%B7%80%EB%B6%84%EC%84%9D%EC%9D%98-4%EA%B0%80%EC%A7%80-%EA%B8%B0%EB%B3%B8%EA%B0%80%EC%A0%95\" aria-label=\"1 선형 회귀분석의 4가지 기본가정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 선형 회귀분석의 4가지 기본가정</h2>\n<p>다중공선성이 뭔지 알기위해서는 먼저 선형회귀모형이 가져야 하는 기본 특성을 알아야 한다.</p>\n<ul>\n<li><code class=\"language-text\">선형성</code> : 독립변수 x와 종속변수 y는 선형관계이다.</li>\n<li><code class=\"language-text\">독립성</code> : 다중 회귀 모형일때 독립변수 x간에는 상관관계가 없다.</li>\n<li><code class=\"language-text\">등분산성</code> : 데이터의 분산이 특정한 패턴이 없이 고르게 분포되어 있다.</li>\n<li><code class=\"language-text\">정규성</code> : 잔차가 정규성을 만족해야 한다. (정규분포 형태여야 한다.)</li>\n</ul>\n<p>다중공선성은 여기서 <code class=\"language-text\">독립성</code> 이 특성에 위배되는 사항으로 입력변수들이 독립적이지 못함을 의미한다.<br>\n즉. 독립변수들 사이에 상관관계가 있어 서로 영향을 끼치는 것이다.<br>\n<br/>\n이에 따른 문제점을 예를들어 보자.<br>\n날씨나 계절이 자전거대여수에 미치는 영향을 알아보는 회귀분석을 진행할때, <code class=\"language-text\">자전거 대여수를 종속변수 y</code>,<br>\n이를 설명해주는 <code class=\"language-text\">독립변수 x1은 온도</code>, 또 다른 <code class=\"language-text\">독립변수 x2는 계절</code>이라고 생각해보자.<br>\n일반적으로 온도가 낮은 날보다 따뜻한 날, 여름/겨울보다는 봄/가을에 자전거 대여수가 많아질것이라고 예상할 수 있다.\n<br/>\n<br/>\n여기서, 언뜻보면 독립변수 x1과 x2는 유의한 변수의 역할을 하는 것 같지만 완벽하게 서로 독립이라고 할 수 있는가?<br>\n<span style=\"color:red\"><strong>당연히 아니다!</strong></span><br>\n<br/>\n둘 사이에는 높은 상관관계가 존재하는데 여름에 춥고 겨울에 더울 수 있을까?<br>\n만약 이 특성들로 회귀 분석을 진행한다면 회귀계수의 값이 불안정해 질것이다.<br>\n회귀계수의 분산이 커지면 p-value 값을 구하는 t-통계량이 작아져 원래는 설명력이 있는 변수임에도 불구하고<br>\n마치 유의하지 않은 것처럼 나와버린다. 둘 중에 한 변수는 설명력이 작아져 버린다는 뜻이다!<br>\n그렇기 때문에 독립변수들 끼리 서로 상관관계가 있다면 제거해주거나 다른 변수로 치환을 해주어야 한다.</p>\n<h2 id=\"2-다중공선성-확인방법\" style=\"position:relative;\"><a href=\"#2-%EB%8B%A4%EC%A4%91%EA%B3%B5%EC%84%A0%EC%84%B1-%ED%99%95%EC%9D%B8%EB%B0%A9%EB%B2%95\" aria-label=\"2 다중공선성 확인방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 다중공선성 확인방법</h2>\n<p>일반적으로 3가지 방법으로 다중공선성을 확인해 볼 수 있다.<br>\n<br/>\n<strong><span style=\"background-color:#ffebcd\">(1) 높은 p-value 값과 낮은 t-통계값</strong>  </span></p>\n<ul>\n<li>회귀계수의 유의성은 t값에 의해 계산되는데 다중공선성으로 비정상적으로 커진 표준오차가 t값을 작게 만들어<br>\np값이 높아지고 유의하지 않게 한다.\n<br/>\n<br/></li>\n</ul>\n<p><strong><span style=\"background-color:#ffebcd\">(2) 높은 분산 팽창 지수 VIF (Variation Index Factor)</strong> </span></p>\n<ul>\n<li>다중공선성을 확인하는 통계적 지표로 보통 10이상이면 다중공선성이 있다고 판단한다.\n<br/>\n<br/></li>\n</ul>\n<p><strong><span style=\"background-color:#ffebcd\">(3) 낮은 공차한계(tolerance)</strong> </span> </p>\n<ul>\n<li>공차는 R-squared 값을 이용하는데 R^2가 1이면 독립변수들간에 강한 상관관계가 있다는 뜻이고,<br>\n이때 공차한계 값은 0 이 된다. 보통 0.1 이하면 다중공선성이 있다고 판단한다.  </li>\n</ul>\n<h2 id=\"3-다중공선성-해결방법\" style=\"position:relative;\"><a href=\"#3-%EB%8B%A4%EC%A4%91%EA%B3%B5%EC%84%A0%EC%84%B1-%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95\" aria-label=\"3 다중공선성 해결방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 다중공선성 해결방법</h2>\n<p>그럼, 어떻게 해결 할 수 있는가?<br>\n이름만 다르지 동일한 변수가 들어가 있는 것과 같으니 중요한 변수 남기고<br>\n제거해주거나 평균값을 사용해 독립변수들을 합쳐주는 등의 방법이 있지만 일반적으로 제거를 해주자.<br>\n<br/></p>\n<p><strong><span style=\"background-color:#ffebcd\">(1) 상관관계가 높은 변수를 제거</strong></span>   </p>\n<ul>\n<li>가장 일반적인 방법으로 보통 제일 값이 높은 것을 제거해주는데 내가 진행한 boom-bikes 분석에서는<br>\none-hot encoding을 진행하면서 column이 많아졌기 때문에 VIF > 5, P-value > 0.05 에 해당하는 변수들을<br>\n모두 제거해줬다.<br>\n<br/></li>\n</ul>\n<p><strong><span style=\"background-color:#ffebcd\">(2) 상관관계가 높은 변수들을 변형하여 새로운 변수로 설정</strong></span> </p>\n<ul>\n<li>변수를 변형하거나 새로운 관측치를 이용하는데 예를들어 두 변수의 평균값으로 새로운 변수를 설정할 수 있다.<br>\n<br/></li>\n</ul>\n<p><strong><span style=\"background-color:#ffebcd\">(3) 주성분분석(PCA)을 통해 변수들의 차원을 축소</strong></span> </p>\n<ul>\n<li>주성분 분석을 통해 두 변수가 직교하기 때문에 분산을 제거할 수 있어 두 변수 사이의 상관관계가 0으로 나타나<br>\n다중공선성의 문제는 해결 할 수 있으나, 주성분변수에 대한 해석이 용이하지 않아 자주 사용하지 않는다.<br>\n<br/>\n<br/>  </li>\n</ul>\n<blockquote>\n<p><em>세부 코드는 <a href=\"https://github.com/Dabinnny/MachineLearning_toyproject/blob/main/LinearRegression_%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5%E1%84%83%E1%85%A2%E1%84%8B%E1%85%A7%E1%84%89%E1%85%AE%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8.ipynb\"><code class=\"language-text\">Github</code></a> 클릭하시면 보실 수 있습니다.</em></p>\n</blockquote>","frontmatter":{"title":"Multicollinearity(다중공선성) 문제와 해결하기","date":"October 01, 2021"}}},"pageContext":{"slug":"/MachineLearning/자전거대여수예측/","previous":{"fields":{"slug":"/PROJECT/test/"},"frontmatter":{"title":"test3"}},"next":{"fields":{"slug":"/OpenCV/기초함수(1)/"},"frontmatter":{"title":"OpenCV 기본함수 정리(1) - 이미지"}}}},"staticQueryHashes":["2486386679","3128451518"]}